(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(30).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(19),i=n.n(s),r=(n(30),n(24)),o=n(2),l=n(3),j=(n(31),n(4)),u=(n(32),n(0));var m=function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsxs)("div",{className:"not-found__container",children:[Object(u.jsx)("h1",{className:"not-found__title",children:"404"}),Object(u.jsx)("p",{className:"not-found__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(u.jsx)(j.b,{className:"not-found__link",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})};n(39),n(40);var d=function(){return Object(u.jsx)("section",{className:"navtab",children:Object(u.jsxs)("ul",{className:"navtab__list",children:[Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{className:"navtab__link",href:"#aboutProject",target:"_self",rel:"noopener noreferrer",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{className:"navtab__link",href:"#techs",target:"_self",rel:"noopener noreferrer",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(u.jsx)("li",{className:"navtab__item",children:Object(u.jsx)("a",{className:"navtab__link",href:"#student",target:"_self",rel:"noopener noreferrer",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})};var h=function(){return Object(u.jsxs)("div",{className:"promo",children:[Object(u.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(u.jsx)(d,{})]})};n(41),n(42);var b=function(e){var t=e.heading;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h3",{className:"heading",children:t})})};var p=function(){return Object(u.jsxs)("section",{className:"project",id:"aboutProject",children:[Object(u.jsx)(b,{heading:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsxs)("ul",{className:"project__list",children:[Object(u.jsxs)("li",{className:"project__item",children:[Object(u.jsx)("h3",{className:"project__title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(u.jsx)("p",{className:"project__subtitle",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(u.jsxs)("li",{className:"project__item",children:[Object(u.jsx)("h3",{className:"project__title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(u.jsx)("p",{className:"project__subtitle",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(u.jsxs)("ul",{className:"project__timeline",children:[Object(u.jsx)("li",{className:"project__time project__time_color_black",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(u.jsx)("li",{className:"project__time project__time_color_grey",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})]}),Object(u.jsxs)("ul",{className:"project__parts",children:[Object(u.jsx)("li",{className:"project__part",children:"Back-end"}),Object(u.jsx)("li",{className:"project__part",children:"Front-end"})]})]})};n(43);var f=function(){return Object(u.jsxs)("section",{className:"techs",id:"techs",children:[Object(u.jsx)(b,{heading:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsxs)("div",{className:"techs__container",children:[Object(u.jsx)("h2",{className:"techs__title",children:" 7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(u.jsx)("p",{className:"techs__subtitle",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(u.jsxs)("ul",{className:"techs__list",children:[Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("h4",{className:"techs__text",children:"HTML"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"CSS"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"JS"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"React"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"Git"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"Express.js"})}),Object(u.jsx)("li",{className:"techs__item",children:Object(u.jsx)("p",{className:"techs__text",children:"mongoDB"})})]})]})]})},x=(n(44),n.p+"static/media/avatar.43437be1.jpg");var O=function(){return Object(u.jsxs)("section",{className:"about",id:"student",children:[Object(u.jsx)(b,{heading:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(u.jsxs)("div",{className:"about__container",children:[Object(u.jsxs)("div",{className:"about__info",children:[Object(u.jsx)("h2",{className:"about__title",children:" \u042d\u043c\u043c\u0430"}),Object(u.jsx)("p",{className:"about__subtitle",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 27 \u043b\u0435\u0442"}),Object(u.jsx)("p",{className:"about__description",children:"\u042f \u0436\u0438\u0432\u0443 \u0432 \u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443 \u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u044b, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2016 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0432 \u0441\u0444\u0435\u0440\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0439\u0434\u0443 \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u044e \u0443\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u0443\u044e \u0441\u0444\u0435\u0440\u0443 \u0438 \u0443\u0432\u043e\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(u.jsxs)("ul",{className:"about__list",children:[Object(u.jsx)("li",{className:"about__item",children:Object(u.jsx)("a",{className:"about__link",target:"_blank",rel:"noreferrer",href:"https://www.facebook.com",children:"Facebook"})}),Object(u.jsx)("li",{className:"about__item",children:Object(u.jsx)("a",{className:"about__link",target:"_blank",rel:"noreferrer",href:"https://github.com/eshhhii",children:"GitHub"})})]})]}),Object(u.jsx)("img",{className:"about__image",src:x,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})]})]})};n(45);var g=function(){return Object(u.jsxs)("section",{className:"portfolio",children:[Object(u.jsx)("h3",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("ul",{className:"portfolio__list",children:[Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://github.com/eshhhii/how-to-learn",target:"_blank",rel:"noreferrer",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://eshhhii.github.io/russian-travel/",target:"_blank",rel:"noreferrer",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(u.jsx)("li",{className:"portfolio__item",children:Object(u.jsx)("a",{className:"portfolio__link",href:"https://eshhhii.nomoredomains.monster/",target:"_blank",rel:"noreferrer",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})};n(46);var _=function(){return Object(u.jsxs)("header",{className:"footer",children:[Object(u.jsx)("h3",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsxs)("p",{className:"footer__copyright",children:[" \xa9 ",(new Date).getFullYear()]}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"footer__list",children:[Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://github.com/yandex-praktikum",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(u.jsx)("li",{className:"footer__item",children:Object(u.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/yandex.praktikum",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})})]})]})},v=(n(47),n.p+"static/media/logo.a7b45961.svg");var N=function(){return Object(u.jsx)(j.b,{to:"/",children:Object(u.jsx)("img",{className:"logo",src:v,alt:"\u043b\u043e\u0433\u043e"})})};n(48);var k=function(){return Object(u.jsx)("nav",{className:"nav",children:Object(u.jsxs)("ul",{className:"nav__menu",children:[Object(u.jsx)("li",{className:"nav__link",children:Object(u.jsx)(j.b,{to:"/signup",className:"nav__signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(u.jsx)("li",{className:"nav__link",children:Object(u.jsx)(j.b,{to:"/signin",className:"nav__signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})})};n(49);var S=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=function(){return a(!n)};return Object(u.jsxs)("nav",{className:"nav-log",children:[Object(u.jsx)("button",{className:"nav-log__burger-btn",type:"button",onClick:s}),Object(u.jsx)("div",{className:"nav-log__container ".concat(n?"nav-log__container_visible":""),children:Object(u.jsxs)("div",{className:"nav-log__burger ".concat(n?"nav-log__burger_visible":""),children:[Object(u.jsxs)("div",{className:"nav-log__menu-container",children:[Object(u.jsx)("button",{className:"nav-log__close",type:"button",onClick:s}),Object(u.jsxs)("ul",{className:"nav-log__menu",children:[Object(u.jsx)("li",{className:"nav-log__item nav-log__item_main ",children:Object(u.jsx)(j.b,{to:"/",className:"nav-log__link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(u.jsx)("li",{className:"nav-log__item",children:Object(u.jsx)(j.c,{to:"/movies",className:"nav-log__link",activeClassName:"nav-log__link_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(u.jsx)("li",{className:"nav-log__item",children:Object(u.jsx)(j.c,{to:"/saved-movies",className:"nav-log__link",activeClassName:"nav-log__link_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]})]}),Object(u.jsx)(j.c,{to:"/profile",className:"nav-log__profile-btn",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})})]})},C=(n(50),c.a.createContext());var A=function(){var e=c.a.useContext(C);return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)(N,{}),!e.email&&Object(u.jsx)(k,{}),e.email&&Object(u.jsx)(S,{})]})};var y=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsxs)("main",{className:"main",children:[Object(u.jsx)(h,{}),Object(u.jsx)(p,{}),Object(u.jsx)(f,{}),Object(u.jsx)(O,{}),Object(u.jsx)(g,{})]}),Object(u.jsx)(_,{})]})},w=(n(51),n(52),n(53),function(e){var t=e.isOn,n=e.handleToggle;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{className:"switch",type:"checkbox",checked:t,onChange:n,id:"switch-toggle"}),Object(u.jsx)("label",{className:"switch__label ".concat(t?"switch__label_is_on":""),htmlFor:"switch-toggle",children:Object(u.jsx)("span",{className:"switch__slider"})})]})}),E=function(e){var t=e.isOn,n=e.handleToggle;return Object(u.jsxs)("div",{className:"filter-checkbox",children:[Object(u.jsx)(w,{isOn:t,handleToggle:n}),Object(u.jsx)("span",{className:"filter-checkbox__title",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})},R="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",I=function(e){return e.image&&e.image.url?"https://api.nomoreparties.co".concat(e.image.url):e.image?e.image:"https://verstka.top/wp-content/themes/verstka/assets/img/image-not-found.jpg"},L=function(e){return"".concat(Math.floor((null===e||void 0===e?void 0:e.duration)/60),"\u0447 ").concat((null===e||void 0===e?void 0:e.duration)%60,"\u043c")},B=function(e,t){return t.forEach((function(t){e.find((function(e){return e.nameRU===t.nameRU})).isSaved=!0})),e},M=function(e,t){return e.filter((function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())}))},q=function(e,t){return e.filter((function(e){return t?e.duration<=40:Number}))},P=function(){switch(!0){case window.innerWidth>=944:return 12;case window.innerWidth>=570:return 8;default:return 5}},X=function(e){return"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e.message?"\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439":"\u041e\u0448\u0438\u0431\u043a\u0430: 401"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 401"===e.message?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041e\u0448\u0438\u0431\u043a\u0430: 403"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 403"===e.message?"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432":"\u041e\u0448\u0438\u0431\u043a\u0430: 404"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 404"===e.message?"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":"\u041e\u0448\u0438\u0431\u043a\u0430: 409"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 409"===e.message?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442":"\u041e\u0448\u0438\u0431\u043a\u0430: 429"===e||"\u041e\u0448\u0438\u0431\u043a\u0430: 429"===e.message?"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},V=function(e){var t=e.onSearchSubmit,n=e.isOn,a=e.handleToggle,s=c.a.useState(""),i=Object(o.a)(s,2),r=i[0],l=i[1],j=c.a.useState(""),m=Object(o.a)(j,2),d=m[0],h=m[1];return Object(u.jsxs)("section",{className:"search",children:[Object(u.jsxs)("div",{className:"search-wrapper",children:[Object(u.jsx)("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),r?(h(""),t(function(e){return e.trim()}(r))):h("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")},noValidate:!0,children:Object(u.jsxs)("div",{className:"search__container",children:[Object(u.jsx)("input",{className:"search__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"text",value:r,onChange:function(e){l(e.target.value)},required:!0,autoComplete:"off",minLength:"2",maxLength:"200"}),Object(u.jsx)("button",{className:"search__button",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"})]})}),d&&Object(u.jsx)("span",{className:"search__error",children:d})]}),Object(u.jsx)(E,{i:!0,isOn:n,handleToggle:a}),Object(u.jsx)("div",{className:"search__line"})]})},J=(n(54),n.p+"static/media/like_active.71ed491a.svg"),T=n.p+"static/media/delete.08a17295.svg",Z=n.p+"static/media/unlike.e78b4556.svg",K=function(e){var t=e.card,n=e.onCardClickButton,a=Object(l.h)(),c="/saved-movies"===a.pathname,s="/movies"===a.pathname,i=Object(u.jsx)("img",{src:J,alt:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}),r=Object(u.jsx)("img",{src:T,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),o=Object(u.jsx)("img",{src:Z,alt:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"});return Object(u.jsxs)("section",{className:"moviescard",children:[Object(u.jsxs)("div",{className:"moviescard__block",children:[Object(u.jsxs)("div",{className:"moviescard__wrapper",children:[Object(u.jsx)("h3",{className:"moviescard__title",children:t.nameRU}),Object(u.jsx)("p",{className:"moviescard__duration",children:L(t)})]}),Object(u.jsxs)("button",{className:"moviescard__like ".concat(t.isSaved&&s?"moviescard__like_active":""),type:"button",onClick:function(){n(t)},children:[s&&t.isSaved&&i,s&&!t.isSaved&&o,c&&r]})]}),Object(u.jsx)("div",{className:"moviescard__container",children:Object(u.jsx)("a",{className:"moviescard__link",href:t.trailer||t.trailerLink,target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{className:"moviescard__image",src:I(t),alt:t.nameRU})})})]})},H=(n(55),function(e){var t=e.cards,n=e.buttonMore,a=e.onClickMoreButton,c=e.onCardClickButton,s=e.movieSearchError,i=t.length>0;return Object(u.jsxs)("section",{className:"list",children:[!i&&Object(u.jsx)("p",{className:"list__message",children:s}),i&&Object(u.jsx)("ul",{className:"list__list",children:t.map((function(e){return Object(u.jsx)(K,{card:e,onCardClickButton:c},function(e){return e.id?e.id:e.movieId?e.movieId:"key"}(e))}))}),n&&Object(u.jsx)("div",{className:"list__container",children:Object(u.jsx)("button",{className:"list__button",type:"button",name:"more",onClick:a,children:"\u0415\u0449\u0451"})})]})}),Y=(n(56),function(){return Object(u.jsx)("div",{className:"preloader",children:Object(u.jsx)("div",{className:"preloader__container",children:Object(u.jsx)("span",{className:"preloader__round"})})})}),F=function(e){var t=e.cards,n=e.isLoading,a=e.onGetMovies,s=e.onCardClickButton,i=e.movieSearchError,r=c.a.useState(""),l=Object(o.a)(r,2),j=l[0],m=l[1],d=c.a.useState(!1),h=Object(o.a)(d,2),b=h[0],p=h[1],f=c.a.useState(P()),x=Object(o.a)(f,2),O=x[0],g=x[1],v=c.a.useState([]),N=Object(o.a)(v,2),k=N[0],S=N[1],C=c.a.useState([]),y=Object(o.a)(C,2),w=y[0],E=y[1];return c.a.useEffect((function(){var e=M(t,j),n=q(e,b);S(n),E(n.slice(0,O))}),[t,j,b,O]),c.a.useEffect((function(){var e=function(){setTimeout((function(){g(P()),E(k.slice(0,P()))}),1e3)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[k]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsxs)("section",{className:"movies",children:[Object(u.jsx)(V,{onSearchSubmit:function(e){m(e),t.length||a()},isOn:b,handleToggle:function(){p(!b)}}),n&&Object(u.jsx)(Y,{}),Object(u.jsx)(H,{cards:w,isSavedMoviesPage:!1,buttonMore:w.length<k.length,onClickMoreButton:function(){g(O+(window.innerWidth>=944?3:2))},onCardClickButton:s,movieSearchError:i})]}),Object(u.jsx)(_,{})]})},G=function(e){var t=e.savedMovies,n=e.onCardClickButton,a=c.a.useState(""),s=Object(o.a)(a,2),i=s[0],r=s[1],l=c.a.useState(!1),j=Object(o.a)(l,2),m=j[0],d=j[1],h=c.a.useState(t),b=Object(o.a)(h,2),p=b[0],f=b[1];return c.a.useEffect((function(){var e=M(t,i),n=q(e,m);f(n)}),[t,i,m]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsxs)("section",{className:"saved-movies",children:[Object(u.jsx)(V,{onSearchSubmit:function(e){r(e)},isOn:m,handleToggle:function(){d(!m)}}),Object(u.jsx)(H,{cards:p,isSavedMoviesPage:!0,buttonMore:!1,onCardClickButton:n,movieSearchError:t.length<1?"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442":R})]}),Object(u.jsx)(_,{})]})};n(57),n(58);var U=function(e){var t=e.text,n=e.loggedIn,a=e.name;return Object(u.jsxs)("div",{className:"greeting ".concat("profile"===a?"greeting_profile":""),children:[!n&&Object(u.jsx)(N,{}),Object(u.jsx)("h1",{className:"greeting__text ".concat("profile"===a?"greeting__text_profile":""),children:t})]})},z=(n(59),function(e){var t=e.name,n=e.onSubmit,a=e.noValidate,c=e.children;return Object(u.jsx)("form",{className:"form ".concat("profile"===t?"form_in_profile":""),name:t,onSubmit:n,noValidate:a,children:c})}),Q=(n(60),function(e){var t=e.id,n=e.label,a=e.name,c=e.type,s=e.placeholder,i=e.minLength,r=e.maxLength,o=e.onChange,l=e.value,j=e.defaultValue,m=e.error,d=e.auth,h=e.editProfile,b=e.pattern,p=e.disabled;return Object(u.jsxs)(u.Fragment,{children:[d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{className:"input__label",htmlFor:a,children:n}),Object(u.jsx)("input",{className:"input input_in_auth ".concat(m?"input__error":""),id:t,name:a,type:c,placeholder:s,pattern:b,minLength:i,maxLength:r,onChange:o,value:l,error:m,required:!0,autoComplete:"off"})]}),h&&Object(u.jsxs)("div",{className:"input__container",children:[Object(u.jsx)("label",{className:"input__label_in_profile",htmlFor:"name",children:n}),Object(u.jsx)("input",{className:"input input_in_profile ".concat(m?"input__error":""),id:t,name:a,type:c,placeholder:s,minLength:i,maxLength:r,onChange:o,value:l,defaultValue:j,error:m,pattern:b,required:!0,autoComplete:"off",disabled:p})]}),m&&Object(u.jsx)("span",{className:"input__error-message",children:m})]})});n(61);var D=function(e){var t=e.buttonText,n=e.paragraph,a=e.linkText,c=e.href,s=e.name,i=e.disabledButton;return Object(u.jsxs)("div",{className:"footer-button ".concat("login"===s?"footer-button_login":"","  ").concat("register"===s?"footer-button_register":""),children:[Object(u.jsx)("button",{className:"footer-button__button ".concat(i?"footer-button__button_disabled":""),type:"submit",disabled:i,children:t}),Object(u.jsxs)("div",{className:"footer-button__redirect ".concat("login"===s?"footer-button__redirect_login":"","  ").concat("register"===s?"footer-button__redirect_register":""),children:[Object(u.jsx)("p",{className:"footer-button__paragraph",children:n}),Object(u.jsx)(j.b,{to:c,className:"footer-button__link",children:a})]})]})},W=n(13),$=n(10),ee=function(){var e=c.a.useState({}),t=Object(o.a)(e,2),n=t[0],a=t[1],s=c.a.useState({}),i=Object(o.a)(s,2),r=i[0],l=i[1],j=c.a.useState(!1),u=Object(o.a)(j,2),m=u[0],d=u[1];return{values:n,errors:r,isValid:m,handleChange:function(e){var t=e.target,c=t.name,s=t.value;a(Object($.a)(Object($.a)({},n),{},Object(W.a)({},c,s))),l(Object($.a)(Object($.a)({},r),{},Object(W.a)({},c,t.validationMessage))),d(t.closest("form").checkValidity())},setValues:a}},te=function(e){var t=e.onRegister,n=ee(),a=n.values,c=n.errors,s=n.isValid,i=n.handleChange;return Object(u.jsxs)("section",{className:"register",children:[Object(u.jsx)("div",{className:"register__block",children:Object(u.jsx)(U,{text:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",loggedIn:!1})}),Object(u.jsxs)(z,{name:"register",onSubmit:function(e){e.preventDefault(),t(a.name,a.email,a.password)},noValidate:!0,children:[Object(u.jsx)(Q,{auth:!0,id:"name",label:"\u0418\u043c\u044f",name:"name",type:"text",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"30",onChange:i,value:a.name||"",error:c.name}),Object(u.jsx)(Q,{auth:!0,id:"email",label:"E-mail",name:"email",type:"email",required:!0,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",placeholder:"Email",onChange:i,value:a.email||"",error:c.email}),Object(u.jsx)(Q,{auth:!0,id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",minLength:"4",required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:i,value:a.password||"",error:c.password}),Object(u.jsx)(D,{disabledButton:!s,buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",paragraph:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",linkText:"\u0412\u043e\u0439\u0442\u0438",href:"/signin",name:"register"})]})]})},ne=(n(62),function(e){var t=e.onLogin,n=ee(),a=n.values,c=n.errors,s=n.isValid,i=n.handleChange;return Object(u.jsxs)("section",{className:"login",children:[Object(u.jsx)("div",{className:"login__block",children:Object(u.jsx)(U,{text:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",loggedIn:!1})}),Object(u.jsxs)(z,{name:"login",onSubmit:function(e){e.preventDefault(),t(a.email,a.password)},noValidate:!0,children:[Object(u.jsx)(Q,{auth:!0,id:"email",label:"E-mail",name:"email",type:"email",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",placeholder:"Email",onChange:i,value:a.email||"",error:c.email}),Object(u.jsx)(Q,{auth:!0,id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",minLength:"4",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:i,value:a.password||"",error:c.password}),Object(u.jsx)(D,{disabledButton:!s,buttonText:"\u0412\u043e\u0439\u0442\u0438",paragraph:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",linkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",href:"/signup",name:"login"})]})]})});n(63);var ae=function(e){var t=e.onSignOut,n=e.onUpdate,a=c.a.useContext(C),s=ee(),i=s.values,r=s.errors,l=s.isValid,j=s.handleChange,m=s.setValues,d=c.a.useState(!1),h=Object(o.a)(d,2),b=h[0],p=h[1],f=c.a.useState(!0),x=Object(o.a)(f,2),O=x[0],g=x[1];return c.a.useEffect((function(){m(a)}),[a,m]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A,{}),Object(u.jsxs)("section",{className:"profile",children:[Object(u.jsx)(U,{text:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(a.name,"!"),loggedIn:!0,name:"profile"}),Object(u.jsxs)(z,{name:"profile__form",noValidate:!0,onSubmit:function(e){e.preventDefault(),n({name:i.name,email:i.email}),p(!1),g(!0)},children:[Object(u.jsx)(Q,{editProfile:!0,id:"name",label:"\u0418\u043c\u044f",name:"name",type:"text",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"30",onChange:j,value:i.name||a.name,error:r.name,required:!0,autoComplete:"off",disabled:O}),Object(u.jsx)(Q,{editProfile:!0,id:"email",label:"E-mail",name:"email",type:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",onChange:j,value:i.email||a.email,error:r.email,required:!0,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",autoComplete:"off",disabled:O}),Object(u.jsxs)("div",{className:"profile__container",children:[!b&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",className:"profile__button",onClick:function(){g(!1),p(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("button",{type:"button",className:"profile__button profile__button_exit",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]}),b&&Object(u.jsx)("button",{type:"submit",className:"profile__button-submit \n                            ".concat(!l&&"profile__button-submit_disabled","\n                            ").concat(i.email===a.email&&i.name===a.name&&"profile__button-submit_disabled"),disabled:!l,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})]})},ce=n(25),se=["component"];var ie=function(e){var t=e.component,n=Object(ce.a)(e,se);return Object(u.jsx)(l.b,{children:Object(u.jsx)(u.Fragment,{children:n.loggedIn?Object(u.jsx)(t,Object($.a)({},n)):Object(u.jsx)(l.a,{to:"/"})})})},re="https://api.eshhhii-diploma.nomoredomains.rocks",oe=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(e.status))},le=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))},je=n(22),ue=n(23),me=new(function(){function e(t){Object(je.a)(this,e),this.url=t.url,this.headers=t.headers}return Object(ue.a)(e,[{key:"getUserInfo",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return t._checkResponse(e)}))}},{key:"updateProfile",value:function(e){var t=this,n=e.name,a=e.email,c=localStorage.getItem("token");return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({name:n,email:a})}).then((function(e){return t._checkResponse(e)}))}},{key:"addNewCard",value:function(e){var t=this,n=localStorage.getItem("token");return fetch("".concat(this.url,"/movies"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),thumbnail:"https://api.nomoreparties.co".concat(e.image.url),trailer:e.trailerLink,movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN})}).then((function(e){return t._checkResponse(e)}))}},{key:"deleteMovie",value:function(e){var t=this,n=localStorage.getItem("token");return fetch("".concat(this.url,"/movies/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return t._checkResponse(e)}))}},{key:"getSavedMovies",value:function(e){var t=this;return fetch("".concat(this.url,"/movies"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return t._checkResponse(e)}))}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(e.status)))}}]),e}())({url:"https://api.eshhhii-diploma.nomoredomains.rocks",headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),de=(n(64),function(e){var t=e.onClose,n=e.isOpen,a=e.image,c=e.message;return Object(u.jsx)("section",{className:"infotool ".concat(n&&"infotool_opened"),children:Object(u.jsxs)("div",{className:"infotool__container",children:[Object(u.jsx)("img",{className:"infotool__result-icon",src:a,alt:""}),Object(u.jsx)("h2",{className:"infotool__message",children:c}),Object(u.jsx)("button",{className:"infotool__close-button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:t})]})})}),he="data:image/png;base64,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",be="data:image/png;base64,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";var pe=function(){var e=c.a.useState({}),t=Object(o.a)(e,2),n=t[0],a=t[1],s=c.a.useState(!1),i=Object(o.a)(s,2),j=i[0],d=i[1],h=c.a.useState(!1),b=Object(o.a)(h,2),p=b[0],f=b[1],x=c.a.useState(""),O=Object(o.a)(x,2),g=O[0],_=O[1],v=c.a.useState(""),N=Object(o.a)(v,2),k=N[0],S=N[1],A=c.a.useState([]),w=Object(o.a)(A,2),E=w[0],I=w[1],L=c.a.useState(!1),M=Object(o.a)(L,2),q=M[0],P=M[1],V=c.a.useState([]),J=Object(o.a)(V,2),T=J[0],Z=J[1],K=c.a.useState(""),H=Object(o.a)(K,2),Y=H[0],U=H[1],z=Object(l.g)(),Q=Object(l.h)().pathname;function D(e,t){(function(e,t){return fetch("".concat(re,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(oe)})(e,t).then((function(e){e.token&&(localStorage.setItem("token",e.token),d(!0),z.push("/movies"))})).catch((function(e){f(!0),_(be),S(X(e)),console.log(e)}))}function W(e){e.isSaved||e._id?function(e){var t=e.id||e.movieId,n=T.find((function(e){return e.movieId===String(t)}));me.deleteMovie(n._id).then((function(){var e=T.filter((function(e){return e.movieId!==String(t)}));Z(e)})).catch((function(e){f(!0),_(be),S(X(e)),console.log(X(e))}))}(e):function(e){me.addNewCard(e).then((function(e){Z([e].concat(Object(r.a)(T)))})).catch((function(e){f(!0),_(be),S(X(e)),console.log(X(e))}))}(e)}return c.a.useEffect((function(){var e=localStorage.getItem("token");e?function(e){return fetch("".concat(re,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(oe)}(e).then((function(e){e&&(d(!0),z.push(Q))})).catch((function(e){console.log(X(e))})):localStorage.removeItem("token")}),[z]),c.a.useEffect((function(){if(j){var e=localStorage.getItem("token");Promise.all([me.getUserInfo(e),me.getSavedMovies(e)]).then((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];a(n),Z(c),localStorage.setItem("saved-movies",JSON.stringify(c||[])),localStorage.setItem("current-user",JSON.stringify(n))})).catch((function(e){return console.log(X(e))}))}}),[j]),c.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("all-movies"));e?(I(B(e,T)),U(R)):(U("\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a"),I([]))}),[T]),Object(u.jsx)(C.Provider,{value:n,children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsx)(y,{})}),Object(u.jsx)(ie,{path:"/movies",component:F,isLoading:q,cards:E,loggedIn:j,onGetMovies:function(){U(""),P(!0),fetch("https://api.nomoreparties.co/beatfilm-movies",{method:"GET"}).then(le).then((function(e){localStorage.setItem("all-movies",JSON.stringify(e)),I(B(e,T)),U(R)})).catch((function(e){U("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"),console.log(X(e))})).finally((function(){P(!1)}))},onCardClickButton:W,movieSearchError:Y}),Object(u.jsx)(ie,{path:"/saved-movies",component:G,loggedIn:j,savedMovies:T,onCardClickButton:W}),Object(u.jsx)(ie,{path:"/profile",component:ae,onSignOut:function(){d(!1),localStorage.clear(),a({}),Z([]),z.push("/")},loggedIn:j,onUpdate:function(e){var t=e.name,n=e.email;me.updateProfile({name:t,email:n}).then((function(e){e&&(a(e),f(!0),_(he),S("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043e\u0432\u043b\u0435\u043d\u044b!"))})).catch((function(e){f(!0),_(be),S(X(e)),console.log(X(e))}))}}),Object(u.jsx)(l.b,{path:"/signup",children:j?Object(u.jsx)(l.a,{to:"/movies"}):Object(u.jsx)(te,{onRegister:function(e,t,n){(function(e,t,n){return fetch("".concat(re,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(oe)})(e,t,n).then((function(e){f(!0),_(he),D(t,n),S("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),z.push("/movies")})).catch((function(e){f(!0),_(be),S(X(e)),console.log(e)}))}})}),Object(u.jsx)(l.b,{path:"/signin",children:j?Object(u.jsx)(l.a,{to:"/movies"}):Object(u.jsx)(ne,{onLogin:D})}),Object(u.jsx)(l.b,{path:"*",children:Object(u.jsx)(m,{})})]}),Object(u.jsx)(de,{isOpen:p,onClose:function(){f(!1)},image:g,message:k})]})})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(pe,{})})}),document.getElementById("root"))}]),[[65,1,2]]]);
//# sourceMappingURL=main.65fa429d.chunk.js.map