{"version":3,"sources":["components/NotFound/NotFound.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/Heading/Heading.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/avatar.jpg","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Footer/Footer.js","images/logo.svg","components/Logo/Logo.js","components/Navigation/Navigation.js","components/NavigationLoggedIn/NavigationLoggedIn.js","contexts/CurrentUserContext.js","components/Header/Header.js","components/Main/Main.js","components/Switch/Switch.js","components/FilterCheckbox/FilterCheckbox.js","utils/constants.js","utils/utils.js","components/SearchForm/SearchForm.js","images/like_active.svg","images/delete.svg","images/unlike.svg","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Preloader/Preloader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Greeting/Greeting.js","components/Form/Form.js","components/Input/Input.js","components/FooterButton/FooterButton.js","utils/validation.js","components/Register/Register.js","components/Login/Login.js","components/Profile/Profile.js","components/ProtectedRoute/ProtectedRoute.js","utils/auth.js","utils/MoviesApi.js","utils/MainApi.js","components/InfoTooltip/InfoTooltip.js","images/success.png","images/fail.png","components/App/App.js","index.js"],"names":["NotFound","className","to","NavTab","href","target","rel","Promo","Heading","heading","AboutProject","id","Techs","AboutMe","src","Avatar","alt","Portfolio","Footer","Date","getFullYear","Logo","MainLogo","Navigation","NavigationLoggedIn","React","useState","menu","setMenu","toggleMenu","type","onClick","activeClassName","CurrentUserContext","createContext","Header","currentUser","useContext","email","Main","Switch","isOn","handleToggle","checked","onChange","htmlFor","FilterCheckBox","NOT_FOUND","getCardImage","card","image","url","getMovieDuration","Math","floor","duration","checkSavedMovies","allMovies","savedMovies","forEach","savedMovie","find","item","nameRU","isSaved","searchMovie","movies","value","filter","movie","toLowerCase","includes","filterMovies","Number","getMoviesCount","window","innerWidth","getErrors","err","message","SearchForm","onSearchSubmit","setValue","error","setError","onSubmit","evt","preventDefault","trim","removeWhiteSpace","noValidate","placeholder","required","autoComplete","minLength","maxLength","i","MoviesCard","onCardClickButton","location","useLocation","isSavedMoviesPage","pathname","isMoviesPage","savedIcon","iconSaved","deleteIcon","iconDelete","unsavedIcon","iconUnsaved","utils","trailer","trailerLink","MoviesCardList","cards","buttonMore","onClickMoreButton","movieSearchError","visibilityCards","length","map","movieId","name","Preloader","Movies","isLoading","onGetMovies","searchValue","setSearchValue","isSwitchOn","setSwitchOn","moviesCount","setMoviesCount","setAllMovies","currentMovies","setCurrentMovies","useEffect","moviesFound","moviesFiltered","slice","handleResize","setTimeout","addEventListener","removeEventListener","SavedMovies","setMovies","Greeting","text","loggedIn","Form","children","Input","label","defaultValue","auth","editProfile","pattern","disabled","FooterButton","buttonText","paragraph","linkText","disabledButton","useValidation","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","validationMessage","closest","checkValidity","Register","onRegister","e","password","Login","onLogin","Profile","onSignOut","onUpdate","visibleSubmitButton","setVisibleSubmitButton","isDisabledInput","setDisabledInput","ProtectedRoute","Component","component","props","BASE_URL","checkResponse","res","ok","json","Promise","reject","status","Error","mainApi","config","this","headers","token","fetch","method","then","_checkResponse","localStorage","getItem","body","JSON","stringify","country","director","year","description","thumbnail","nameEN","InfoTooltip","onClose","isOpen","App","setCurrentUser","setIsLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","tooltipImage","setTooltipImage","setMessage","setIsLoading","setSavedMovies","setMovieSearchError","history","useHistory","path","setItem","push","catch","authError","console","log","handleCardClickButton","_id","userMovie","String","deleteMovie","newSavedMovies","handleDeleteMovie","addNewCard","handleSaveMovie","removeItem","all","getUserInfo","getSavedMovies","userData","parse","messages","Provider","exact","finally","clear","updateProfile","data","authSuccess","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.65fa429d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./NotFound.css\";\n\nfunction NotFound() {\n  return (\n    <div className=\"not-found\">\n      <div className=\"not-found__container\">\n        <h1 className=\"not-found__title\">404</h1>\n        <p className=\"not-found__subtitle\">Страница не найдена</p>\n      </div>\n      <Link className=\"not-found__link\" to=\"/\">\n        Назад\n      </Link>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport \"./NavTab.css\";\n\nfunction NavTab() {\n  return (\n    <section className=\"navtab\">\n      <ul className=\"navtab__list\">\n        <li className=\"navtab__item\">\n          <a\n            className=\"navtab__link\"\n            href=\"#aboutProject\"\n            target=\"_self\"\n            rel=\"noopener noreferrer\"\n          >\n            О проекте\n          </a>\n        </li>\n        <li className=\"navtab__item\">\n          <a\n            className=\"navtab__link\"\n            href=\"#techs\"\n            target=\"_self\"\n            rel=\"noopener noreferrer\"\n          >\n            Технологии\n          </a>\n        </li>\n        <li className=\"navtab__item\">\n          <a\n            className=\"navtab__link\"\n            href=\"#student\"\n            target=\"_self\"\n            rel=\"noopener noreferrer\"\n          >\n            Студент\n          </a>\n        </li>\n      </ul>\n    </section>\n  );\n}\n\nexport default NavTab;\n","import React from \"react\";\nimport \"./Promo.css\";\nimport NavTab from \"../NavTab/NavTab\";\n\nfunction Promo() {\n  return (\n    <div className=\"promo\">\n      <h1 className=\"promo__title\">\n        Учебный проект студента факультета Веб-разработки.\n      </h1>\n      <NavTab />\n    </div>\n  );\n}\n\nexport default Promo;\n","import React from \"react\";\nimport \"./Heading.css\";\n\nfunction Heading({ heading }) {\n  return (\n    <>\n      <h3 className=\"heading\">{heading}</h3>\n    </>\n  );\n}\n\nexport default Heading;\n","import React from \"react\";\nimport \"./AboutProject.css\";\nimport Heading from \"../Heading/Heading\";\n\nfunction AboutProject() {\n  return (\n    <section className=\"project\" id=\"aboutProject\">\n      <Heading heading=\"О проекте\" />\n      <ul className=\"project__list\">\n        <li className=\"project__item\">\n          <h3 className=\"project__title\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"project__subtitle\">\n            Составление плана, работу над бэкендом, вёрстку, добавление\n            функциональности и финальные доработки.\n          </p>\n        </li>\n        <li className=\"project__item\">\n          <h3 className=\"project__title\">\n            На выполнение диплома ушло 5 недель\n          </h3>\n          <p className=\"project__subtitle\">\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\n            соблюдать, чтобы успешно защититься.\n          </p>\n        </li>\n      </ul>\n      <ul className=\"project__timeline\">\n        <li className=\"project__time project__time_color_black\">1 неделя</li>\n        <li className=\"project__time project__time_color_grey\">4 недели</li>\n      </ul>\n\n      <ul className=\"project__parts\">\n        <li className=\"project__part\">Back-end</li>\n        <li className=\"project__part\">Front-end</li>\n      </ul>\n    </section>\n  );\n}\n\nexport default AboutProject;\n","import React from \"react\";\nimport \"./Techs.css\";\nimport Heading from \"../Heading/Heading\";\n\nfunction Techs() {\n  return (\n    <section className=\"techs\" id=\"techs\">\n      <Heading heading=\"Технологии\" />\n      <div className=\"techs__container\">\n        <h2 className=\"techs__title\"> 7 технологий</h2>\n        <p className=\"techs__subtitle\">\n          На курсе веб-разработки мы освоили технологии, которые применили в\n          дипломном проекте.\n        </p>\n        <ul className=\"techs__list\">\n          <li className=\"techs__item\">\n            <h4 className=\"techs__text\">HTML</h4>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">CSS</p>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">JS</p>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">React</p>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">Git</p>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">Express.js</p>\n          </li>\n          <li className=\"techs__item\">\n            <p className=\"techs__text\">mongoDB</p>\n          </li>\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/avatar.43437be1.jpg\";","import React from \"react\";\nimport \"./AboutMe.css\";\nimport Heading from \"../Heading/Heading\";\nimport Avatar from \"../../images/avatar.jpg\";\n\nfunction AboutMe() {\n  return (\n    <section className=\"about\" id=\"student\">\n      <Heading heading=\"Студент\" />\n      <div className=\"about__container\">\n        <div className=\"about__info\">\n          <h2 className=\"about__title\"> Эмма</h2>\n          <p className=\"about__subtitle\">Фронтенд-разработчик, 27 лет</p>\n          <p className=\"about__description\">\n            Я живу в Калининграде, закончила факультет финансового менеджмента.\n            Я люблю слушать музыку и смотреть сериалы, а ещё увлекаюсь бегом.\n            Недавно начала кодить. С 2016 года работаю в сфере автомобильного\n            бизнеса. После того, как пройду курс по веб-разработке, планирую\n            уйти работать в новую сферу и уволиться с работы.\n          </p>\n          <ul className=\"about__list\">\n            <li className=\"about__item\">\n              <a\n                className=\"about__link\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://www.facebook.com\"\n              >\n                Facebook\n              </a>\n            </li>\n            <li className=\"about__item\">\n              <a\n                className=\"about__link\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://github.com/eshhhii\"\n              >\n                GitHub\n              </a>\n            </li>\n          </ul>\n        </div>\n        <img className=\"about__image\" src={Avatar} alt=\"аватар\" />\n      </div>\n    </section>\n  );\n}\n\nexport default AboutMe;\n","import React from \"react\";\nimport \"./Portfolio.css\";\n\nfunction Portfolio() {\n  return (\n    <section className=\"portfolio\">\n      <h3 className=\"portfolio__title\">Портфолио</h3>\n      <ul className=\"portfolio__list\">\n        <li className=\"portfolio__item\">\n          <a\n            className=\"portfolio__link\"\n            href=\"https://github.com/eshhhii/how-to-learn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Статичный сайт\n          </a>\n        </li>\n        <li className=\"portfolio__item\">\n          <a\n            className=\"portfolio__link\"\n            href=\"https://eshhhii.github.io/russian-travel/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Адаптивный сайт\n          </a>\n        </li>\n        <li className=\"portfolio__item\">\n          <a\n            className=\"portfolio__link\"\n            href=\"https://eshhhii.nomoredomains.monster/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Одностраничное приложение\n          </a>\n        </li>\n      </ul>\n    </section>\n  );\n}\n\nexport default Portfolio;\n","import React from \"react\";\nimport \"./Footer.css\";\n\nfunction Footer() {\n  return (\n    <header className=\"footer\">\n      <h3 className=\"footer__title\">\n        Учебный проект Яндекс.Практикум х BeatFilm.\n      </h3>\n      <div className=\"footer__container\">\n        <p className=\"footer__copyright\"> © {new Date().getFullYear()}</p>\n        <nav>\n          <ul className=\"footer__list\">\n            <li className=\"footer__item\">\n              <a\n                className=\"footer__link\"\n                href=\"https://praktikum.yandex.ru/\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Яндекс.Практикум\n              </a>\n            </li>\n            <li className=\"footer__item\">\n              <a\n                className=\"footer__link\"\n                href=\"https://github.com/yandex-praktikum\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Github\n              </a>\n            </li>\n            <li className=\"footer__item\">\n              <a\n                className=\"footer__link\"\n                href=\"https://www.facebook.com/yandex.praktikum\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Facebook\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/logo.a7b45961.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Logo.css\";\nimport MainLogo from \"./../../images/logo.svg\";\n\nfunction Logo() {\n  return (\n    <Link to=\"/\">\n      <img className=\"logo\" src={MainLogo} alt=\"лого\" />\n    </Link>\n  );\n}\nexport default Logo;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navigation.css\";\n\nfunction Navigation() {\n  return (\n    <nav className=\"nav\">\n      <ul className=\"nav__menu\">\n        <li className=\"nav__link\">\n          <Link to=\"/signup\" className=\"nav__signup\">\n            Регистрация\n          </Link>\n        </li>\n        <li className=\"nav__link\">\n          <Link to=\"/signin\" className=\"nav__signin\">\n            Войти\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport \"./NavigationLoggedIn.css\";\n\nfunction NavigationLoggedIn() {\n  const [menu, setMenu] = React.useState(false);\n  const toggleMenu = () => setMenu(!menu);\n\n  return (\n    <nav className=\"nav-log\">\n      <button\n        className=\"nav-log__burger-btn\"\n        type=\"button\"\n        onClick={toggleMenu}\n      ></button>\n\n      <div\n        className={`nav-log__container ${\n          menu ? \"nav-log__container_visible\" : \"\"\n        }`}\n      >\n        <div\n          className={`nav-log__burger ${menu ? \"nav-log__burger_visible\" : \"\"}`}\n        >\n          <div className=\"nav-log__menu-container\">\n            <button\n              className=\"nav-log__close\"\n              type=\"button\"\n              onClick={toggleMenu}\n            ></button>\n\n            <ul className=\"nav-log__menu\">\n              <li className=\"nav-log__item nav-log__item_main \">\n                <Link to=\"/\" className=\"nav-log__link\">\n                  Главная\n                </Link>\n              </li>\n              <li className=\"nav-log__item\">\n                <NavLink\n                  to=\"/movies\"\n                  className=\"nav-log__link\"\n                  activeClassName=\"nav-log__link_active\"\n                >\n                  Фильмы\n                </NavLink>\n              </li>\n              <li className=\"nav-log__item\">\n                <NavLink\n                  to=\"/saved-movies\"\n                  className=\"nav-log__link\"\n                  activeClassName=\"nav-log__link_active\"\n                >\n                  Сохранённые фильмы\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <NavLink to=\"/profile\" className=\"nav-log__profile-btn\">\n            Аккаунт\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default NavigationLoggedIn;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport Logo from \"../Logo/Logo\";\nimport Navigation from \"../Navigation/Navigation\";\nimport NavigationLoggedIn from \"../NavigationLoggedIn/NavigationLoggedIn\";\nimport \"./Header.css\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Header() {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <header className=\"header\">\n      <Logo />\n      {!currentUser.email && <Navigation />}\n      {currentUser.email && <NavigationLoggedIn />}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport Promo from \"../Promo/Promo\";\nimport AboutProject from \"../AboutProject/AboutProject\";\nimport Techs from \"../Techs/Techs\";\nimport AboutMe from \"../AboutMe/AboutMe\";\nimport Portfolio from \"../Portfolio/Portfolio\";\nimport Footer from \"../Footer/Footer\";\nimport Header from \"../Header/Header\";\n\nfunction Main() {\n  return (\n    <>\n      <Header />\n      <main className=\"main\">\n        <Promo />\n        <AboutProject />\n        <Techs />\n        <AboutMe />\n        <Portfolio />\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport \"./Switch.css\";\n\nconst Switch = ({ isOn, handleToggle }) => {\n    return (\n        <>\n            <input\n                className=\"switch\"\n                type=\"checkbox\"\n                checked={isOn}\n                onChange={handleToggle}\n                id=\"switch-toggle\"\n            />\n            <label\n                className={`switch__label ${isOn ? \"switch__label_is_on\" : \"\"}`}\n                htmlFor=\"switch-toggle\"\n            >\n                <span className=\"switch__slider\" />\n            </label>\n        </>\n    );\n};\n\nexport default Switch;","import React from \"react\";\nimport \"./FilterCheckbox.css\";\n\nimport Switch from \"../Switch/Switch\";\n\nconst FilterCheckBox = ({ isOn, handleToggle }) => {\n\n    return (\n        <div className=\"filter-checkbox\">\n                        <Switch \n                isOn={isOn} \n                handleToggle={handleToggle} \n            />\n            <span className=\"filter-checkbox__title\">Короткометражки</span>\n        </div>\n    );\n};\n\nexport default FilterCheckBox;\n","export const SERVER_ERROR = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\n\nexport const PROFILE_UPDATE_SUCCESS = 'Данные успешно обовлены!';\n\nexport const REGISTER_SUCCESS = 'Вы успешно зарегистрировались!';\n\nexport const NO_SAVED_MOVIES = \"Список пуст\";\n\nexport const ENTER_KEYWORD = 'Нужно ввести ключевое слово';\n\nexport const START_SEARCHING = \"Начните поиск\";\n\nexport const NOT_FOUND = 'Ничего не найдено';\n\n\nexport const SHORT = 40;\n","import { SHORT } from \"./constants\";\n\nexport const getCardImage = (card) => {\n    if (card.image && card.image.url) return `https://api.nomoreparties.co${card.image.url}`;\n    if (card.image) return card.image;\n    return \"https://verstka.top/wp-content/themes/verstka/assets/img/image-not-found.jpg\";\n};\n\nexport const getMovieKey = (card) => {\n    if (card.id) return card.id;\n    if (card.movieId) return card.movieId;\n    return \"key\";\n};\n\nexport const getMovieDuration = (card) => {\n    return `${Math.floor(card?.duration / 60)}ч ${card?.duration % 60}м`;\n};\n\nexport const checkSavedMovies = (allMovies, savedMovies) => {\n    savedMovies.forEach((savedMovie) => {\n        const movie = allMovies.find((item) => item.nameRU === savedMovie.nameRU);\n        movie.isSaved = true;\n    });\n    return allMovies;\n};\n\nexport const searchMovie = (movies, value) =>\n    movies.filter((movie) => {\n        return movie.nameRU.toLowerCase().includes(value.toLowerCase());\n    });\n\nexport const removeWhiteSpace = (value) => {\n    return value.trim();\n};\n\nexport const filterMovies = (movies, checked) => {\n    return movies.filter((movie) =>\n        checked ? movie.duration <= SHORT : Number\n    );\n};\n\nexport const getMoviesCount = () => {\n    switch (true) {\n        case window.innerWidth >= 944:\n            return 12;\n        case window.innerWidth >= 570:\n            return 8;\n        default:\n            return 5;\n    }\n};\n\nexport const loadMovies = () => {\n    if (window.innerWidth >= 944) {\n        return 3;\n    }\n    return 2;\n};\n\nexport const getErrors = (err) => {\n    if (err === \"Ошибка: 400\" || err.message === \"Ошибка: 400\")\n        return \"Не верно заполнено одно из полей\";\n    if (err === \"Ошибка: 401\" || err.message === \"Ошибка: 401\")\n        return \"Неправильные почта или пароль\";\n    if (err === \"Ошибка: 403\" || err.message === \"Ошибка: 403\")\n        return \"Недостаточно прав\";\n    if (err === \"Ошибка: 404\" || err.message === \"Ошибка: 404\")\n        return \"Данные не найдены\";\n    if (err === \"Ошибка: 409\" || err.message === \"Ошибка: 409\")\n        return \"Пользователь с таким email уже существует\";\n    if (err === \"Ошибка: 429\" || err.message === \"Ошибка: 429\")\n        return \"Слишком много запросов. Попробуйте позже\";\n    return \"Ошибка сервера\";\n};","import React from 'react';\nimport \"./SearchForm.css\";\nimport FilterCheckBox from \"../FilterCheckbox/FilterCheckbox\";\n\nimport { ENTER_KEYWORD } from \"../../utils/constants\";\nimport { removeWhiteSpace } from \"../../utils/utils\";\n\nconst SearchForm = ({\n    onSearchSubmit,\n    isOn,\n    handleToggle }) => {\n\n    const [value, setValue] = React.useState(\"\");\n    const [error, setError] = React.useState(\"\");\n\n    function handleChange(evt) {\n        setValue(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        if (!value) {\n            setError(ENTER_KEYWORD);\n        } else {\n            setError(\"\");\n            onSearchSubmit(removeWhiteSpace(value));\n        }\n    }\n\n  return (\n    <section className=\"search\">\n      <div className=\"search-wrapper\">\n      <form className=\"search__form\" onSubmit={handleSubmit} noValidate>\n        <div className=\"search__container\">\n          <input\n            className=\"search__input\"\n            placeholder=\"Фильм\"\n            type=\"text\"\n            value={value}\n            onChange={handleChange}\n            required\n            autoComplete=\"off\"\n            minLength=\"2\"\n            maxLength=\"200\"\n          ></input>\n          <button className=\"search__button\" type=\"submit\">\n            Найти\n          </button>\n        </div>\n      </form>\n      {error && <span className=\"search__error\">{error}</span>}\n        </div>\n        <FilterCheckBox i\n                isOn={isOn}\n                handleToggle={handleToggle}\n            />\n      <div className=\"search__line\"></div>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","export default __webpack_public_path__ + \"static/media/like_active.71ed491a.svg\";","export default __webpack_public_path__ + \"static/media/delete.08a17295.svg\";","export default __webpack_public_path__ + \"static/media/unlike.e78b4556.svg\";","import React from \"react\";\nimport \"./MoviesCard.css\";\nimport { useLocation } from \"react-router-dom\";\nimport iconSaved from \"../../images/like_active.svg\";\nimport iconDelete from \"../../images/delete.svg\";\nimport iconUnsaved from \"../../images/unlike.svg\";\nimport * as utils from \"../../utils/utils\";\n\nconst MoviesCard = ({ card, onCardClickButton }) => {\n\n\n  const location = useLocation();\n\n  const isSavedMoviesPage = location.pathname === \"/saved-movies\";\n  const isMoviesPage = location.pathname === \"/movies\";\n\n  const savedIcon = <img src={iconSaved} alt=\"Сохранено\" />;\n  const deleteIcon = <img src={iconDelete} alt=\"Удалить\" />;\n  const unsavedIcon = <img src={iconUnsaved} alt=\"Не сохранено\" />;\n\n  function handleCardClickButton() {\n      onCardClickButton(card);\n  }\n\n\n  return (\n    <section className=\"moviescard\">\n      <div className=\"moviescard__block\">\n        <div className=\"moviescard__wrapper\">\n          <h3 className=\"moviescard__title\">{card.nameRU}</h3>\n          <p className=\"moviescard__duration\">{utils.getMovieDuration(card)}</p>\n        </div>\n        <button\n        className={`moviescard__like ${\n          card.isSaved && isMoviesPage ? \"moviescard__like_active\" : \"\"\n        }`}\n        type=\"button\"\n        onClick={handleCardClickButton}\n      >\n        {isMoviesPage && card.isSaved && savedIcon}\n        {isMoviesPage && !card.isSaved && unsavedIcon}\n        {isSavedMoviesPage && deleteIcon}\n      </button>\n      </div>\n      <div className=\"moviescard__container\">\n        <a\n          className=\"moviescard__link\"\n          href={card.trailer || card.trailerLink}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img\n            className=\"moviescard__image\"\n            src={utils.getCardImage(card)}\n            alt={card.nameRU}\n          />\n        </a>\n      </div>\n    </section>\n  );\n}\n\nexport default MoviesCard;\n","import React from \"react\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport \"./MoviesCardList.css\";\n\nimport * as utils from \"../../utils/utils\";\n\nconst MoviesCardList = ({\n    cards,\n    buttonMore,\n    onClickMoreButton,\n    onCardClickButton,\n    movieSearchError, }) => {\n    const visibilityCards = cards.length > 0;\n\n    return (\n        <section className=\"list\">\n\n            {!visibilityCards && <p className=\"list__message\">{movieSearchError}</p>}\n\n            {visibilityCards && (\n                <ul className=\"list__list\">\n                    {cards.map((card) => (\n                        <MoviesCard\n                            key={utils.getMovieKey(card)}\n                            card={card}\n                            onCardClickButton={onCardClickButton}\n                        />\n                    ))}\n                </ul>\n            )}\n\n            {buttonMore && (\n                <div className=\"list__container\">\n                    <button\n                        className=\"list__button\"\n                        type=\"button\"\n                        name=\"more\"\n                        onClick={onClickMoreButton}\n                    >\n                        Ещё\n                    </button>\n                </div>\n\n            )}\n\n        </section>\n    );\n};\n\nexport default MoviesCardList;\n","import React from \"react\";\nimport \"./Preloader.css\";\n\nconst Preloader = () => {\n  return (\n      <div className=\"preloader\">\n          <div className=\"preloader__container\">\n              <span className=\"preloader__round\"></span>\n          </div>\n      </div>\n  )\n};\n\nexport default Preloader;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from \"react\";\nimport Header from \"../Header/Header\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\nimport Footer from \"../Footer/Footer\";\nimport Preloader from \"../Preloader/Preloader\";\nimport * as utils from \"../../utils/utils\";\n\nconst Movies = ({\n  cards,\n  isLoading,\n  onGetMovies,\n  onCardClickButton,\n  movieSearchError,\n}) => {\n  const [searchValue, setSearchValue] = React.useState(\"\");\n  const [isSwitchOn, setSwitchOn] = React.useState(false);\n  const [moviesCount, setMoviesCount] = React.useState(utils.getMoviesCount());\n  const [allMovies, setAllMovies] = React.useState([]);\n  const [currentMovies, setCurrentMovies] = React.useState([]);\n\n  const handleSearchSubmit = (value) => {\n      setSearchValue(value);\n      if (!cards.length) {\n          onGetMovies();\n      }\n  }\n\n  const handleToggleSwitch = () => {\n      setSwitchOn(!isSwitchOn);\n  };\n\n  const handleClickMoreButton = () => {\n      setMoviesCount(moviesCount + utils.loadMovies());\n  };\n\n  React.useEffect(() => {\n\n      const moviesFound = utils.searchMovie(cards, searchValue);\n      const moviesFiltered = utils.filterMovies(moviesFound, isSwitchOn);\n\n      setAllMovies(moviesFiltered);\n      setCurrentMovies(moviesFiltered.slice(0, moviesCount));\n\n  }, [cards, searchValue, isSwitchOn, moviesCount]);\n\n  React.useEffect(() => {\n\n      const handleResize = () => {\n          setTimeout(() => {\n              setMoviesCount(utils.getMoviesCount());\n              setCurrentMovies(allMovies.slice(0, utils.getMoviesCount()));\n          }, 1000);\n      };\n\n      window.addEventListener(\"resize\", handleResize);\n      return () => window.removeEventListener(\"resize\", handleResize);\n\n  }, [allMovies]);\n  return (\n    <>\n      <Header />\n      <section className=\"movies\">\n        <SearchForm onSearchSubmit={handleSearchSubmit} isOn={isSwitchOn} handleToggle={handleToggleSwitch} />\n        {isLoading && <Preloader />}\n        <MoviesCardList\n        cards={currentMovies}\n        isSavedMoviesPage={false}\n        buttonMore={currentMovies.length < allMovies.length}\n        onClickMoreButton={handleClickMoreButton}\n        onCardClickButton={onCardClickButton}\n        movieSearchError={movieSearchError}\n        />\n      </section>\n      <Footer />\n    </>\n  );\n}\n\nexport default Movies;\n","import React from \"react\";\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\n\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport * as utils from \"../../utils/utils\";\n\nimport { NOT_FOUND, NO_SAVED_MOVIES } from \"../../utils/constants\";\n\nconst SavedMovies = ({ savedMovies, onCardClickButton }) => {\n\n    const [searchValue, setSearchValue] = React.useState(\"\");\n    const [isSwitchOn, setSwitchOn] = React.useState(false);\n    const [movies, setMovies] = React.useState(savedMovies);\n\n    const handleSearchSubmit = (value) => {\n        setSearchValue(value);\n    };\n\n    const handleToggleSwitch = () => {\n        setSwitchOn(!isSwitchOn);\n    };\n\n    React.useEffect(() => {\n\n        const moviesFound = utils.searchMovie(savedMovies, searchValue);\n        const moviesFiltered = utils.filterMovies(moviesFound, isSwitchOn);\n\n        setMovies(moviesFiltered);\n\n    }, [savedMovies, searchValue, isSwitchOn]);\n\n\n    return (\n        <>\n            <Header />\n\n            <section className=\"saved-movies\">\n\n                <SearchForm\n                    onSearchSubmit={handleSearchSubmit}\n                    isOn={isSwitchOn}\n                    handleToggle={handleToggleSwitch}\n                />\n\n                <MoviesCardList\n                    cards={movies}\n                    isSavedMoviesPage={true}\n                    buttonMore={false}\n                    onCardClickButton={onCardClickButton}\n                    movieSearchError={savedMovies.length < 1 ? NO_SAVED_MOVIES : NOT_FOUND}\n                />\n\n            </section>\n            <Footer />\n        </>\n    );\n}\n\nexport default SavedMovies;","import React from \"react\";\nimport \"./Greeting.css\";\nimport Logo from \"../Logo/Logo\";\n\nfunction Greeting({ text, loggedIn, name }) {\n  return (\n    <div className={`greeting ${name === \"profile\" ? \"greeting_profile\" : \"\"}`}>\n      {!loggedIn && <Logo />}\n      <h1\n        className={`greeting__text ${\n          name === \"profile\" ? \"greeting__text_profile\" : \"\"\n        }`}\n      >\n        {text}\n      </h1>\n    </div>\n  );\n}\n\nexport default Greeting;\n","import React from 'react';\nimport \"./Form.css\";\n\nconst Form = ({\n    name,\n    onSubmit,\n    noValidate,\n    children,\n}) => {\n\n    return (\n        <form\n            className={`form ${name === \"profile\" ? \"form_in_profile\" : \"\"}`}\n            name={name}\n            onSubmit={onSubmit}\n            noValidate={noValidate}\n        >\n            {children}\n        </form>\n    );\n};\n\nexport default Form;","import React from 'react';\nimport \"./Input.css\";\n\nconst Input = ({\n    id,\n    label,\n    name,\n    type,\n    placeholder,\n    minLength,\n    maxLength,\n    onChange,\n    value,\n    defaultValue,\n    error,\n    auth,\n    editProfile,\n    pattern,\n    disabled\n}) => {\n\n    return (\n        <>\n            {auth &&\n                (\n                    <>\n                        <label\n                            className=\"input__label\"\n                            htmlFor={name}\n                        >\n                            {label}\n                        </label>\n                        <input\n                            className={`input input_in_auth ${error ? \"input__error\" : \"\"}`}\n                            id={id}\n                            name={name}\n                            type={type}\n                            placeholder={placeholder}\n                            pattern={pattern}\n                            minLength={minLength}\n                            maxLength={maxLength}\n                            onChange={onChange}\n                            value={value}\n                            error={error}\n                            required\n                            autoComplete=\"off\"\n                        />\n                    </>\n                )\n            }\n\n            {editProfile &&\n                (\n                    <div className=\"input__container\">\n                        <label\n                            className=\"input__label_in_profile\"\n                            htmlFor=\"name\"\n                        >\n                            {label}\n                        </label>\n                        <input\n                            className={`input input_in_profile ${error ? \"input__error\" : \"\"}`}\n                            id={id}\n                            name={name}\n                            type={type}\n                            placeholder={placeholder}\n                            minLength={minLength}\n                            maxLength={maxLength}\n                            onChange={onChange}\n                            value={value}\n                            defaultValue={defaultValue}\n                            error={error}\n                            pattern={pattern}\n                            required\n                            autoComplete=\"off\"\n                            disabled={disabled}\n                        />\n                    </div>\n                )\n            }\n            {error && <span className=\"input__error-message\">{error}</span>}\n        </>\n    );\n};\n\nexport default Input;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./FooterButton.css\";\n\nfunction FooterButton({\n  buttonText,\n  paragraph,\n  linkText,\n  href,\n  name,\n  disabledButton,\n}) {\n  return (\n    <div\n      className={`footer-button ${\n        name === \"login\" ? \"footer-button_login\" : \"\"\n      }  ${name === \"register\" ? \"footer-button_register\" : \"\"}`}\n    >\n      <button\n        className={`footer-button__button ${\n          disabledButton ? \"footer-button__button_disabled\" : \"\"\n        }`}\n        type=\"submit\"\n        disabled={disabledButton}\n      >\n        {buttonText}\n      </button>\n\n      <div\n        className={`footer-button__redirect ${\n          name === \"login\" ? \"footer-button__redirect_login\" : \"\"\n        }  ${name === \"register\" ? \"footer-button__redirect_register\" : \"\"}`}\n      >\n        <p className=\"footer-button__paragraph\">{paragraph}</p>\n        <Link to={href} className=\"footer-button__link\">\n          {linkText}\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default FooterButton;\n","import React from \"react\";\n\nexport const useValidation = () => {\n\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isValid, setIsValid] = React.useState(false);\n\n    const handleChange = (evt) => {\n\n        const target = evt.target;\n        const name = target.name;\n        const value = target.value;\n\n        setValues({ ...values, [name]: value });\n        setErrors({ ...errors, [name]: target.validationMessage });\n        \n        setIsValid(target.closest(\"form\").checkValidity());\n    };\n\n    return {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        setValues,\n    };\n};","import React from \"react\";\nimport \"./Register.css\";\nimport Greeting from \"../Greeting/Greeting\";\nimport Form from \"../Form/Form\";\nimport Input from \"../Input/Input\";\nimport FooterButton from \"../FooterButton/FooterButton\";\nimport { useValidation } from \"../../utils/validation\";\n\nconst Register = ({ onRegister }) => {\n\n  const loggedIn = false;\n  const { values, errors, isValid, handleChange } = useValidation();\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n      onRegister(values.name, values.email, values.password);\n  };\n\n  return (\n    <section className=\"register\">\n      <div className=\"register__block\">\n        <Greeting text=\"Добро пожаловать!\" loggedIn={loggedIn} />\n      </div>\n\n      <Form\n                name=\"register\"\n                onSubmit={handleSubmit}\n                noValidate\n            >\n                <Input\n                    auth\n                    id=\"name\"\n                    label=\"Имя\"\n                    name=\"name\"\n                    type=\"text\"\n                    placeholder=\"Имя\"\n                    minLength=\"2\"\n                    maxLength=\"30\"\n                    onChange={handleChange}\n                    value={values.name || \"\"}\n                    error={errors.name}\n                />\n                <Input\n                    auth\n                    id=\"email\"\n                    label=\"E-mail\"\n                    name=\"email\"\n                    type=\"email\"\n                    required\n                    pattern=\"[^@\\s]+@[^@\\s]+\\.[^@\\s]+\"\n                    placeholder=\"Email\"\n                    onChange={handleChange}\n                    value={values.email || \"\"}\n                    error={errors.email}\n                />\n\n                <Input\n                    auth\n                    id=\"password\"\n                    label=\"Пароль\"\n                    name=\"password\"\n                    type=\"password\"\n                    minLength=\"4\"\n                    required\n                    placeholder=\"Введите пароль\"\n                    onChange={handleChange}\n                    value={values.password || \"\"}\n                    error={errors.password}\n                />\n              \n        <FooterButton\n          disabledButton={!isValid}\n          buttonText=\"Зарегистрироваться\"\n          paragraph=\"Уже зарегистрированы?\"\n          linkText=\"Войти\"\n          href=\"/signin\"\n          name=\"register\"\n        />\n      </Form>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport \"./Login.css\";\nimport Greeting from \"../Greeting/Greeting\";\nimport Form from \"../Form/Form\";\nimport Input from \"../Input/Input\";\nimport FooterButton from \"../FooterButton/FooterButton\";\nimport { useValidation } from \"../../utils/validation\";\n\nconst Login = ({ onLogin }) => {\n\n  const loggedIn = false;\n  const { values, errors, isValid, handleChange } = useValidation();\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n      onLogin(values.email, values.password);\n  };\n\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__block\">\n        <Greeting text=\"Рады видеть!\" loggedIn={loggedIn} />\n      </div>\n\n      <Form name=\"login\" onSubmit={handleSubmit} noValidate>\n        <Input\n                    auth\n                    id=\"email\"\n                    label=\"E-mail\"\n                    name=\"email\"\n                    type=\"email\"\n                    pattern=\"[^@\\s]+@[^@\\s]+\\.[^@\\s]+\"\n                    placeholder=\"Email\"\n                    onChange={handleChange}\n                    value={values.email || \"\"}\n                    error={errors.email}\n                />\n                <Input \n                auth id=\"password\" \n                label=\"Пароль\" \n                name=\"password\" \n                type=\"password\"\n                minLength=\"4\"\n                placeholder=\"Пароль\" \n                onChange={handleChange} \n                value={values.password || \"\"} \n                error={errors.password}\n                />\n        <FooterButton\n          disabledButton={!isValid}\n          buttonText=\"Войти\"\n          paragraph=\"Еще не зарегистрированы?\"\n          linkText=\"Регистрация\"\n          href=\"/signup\"\n          name=\"login\"\n        />\n        </Form>\n    </section>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"./Profile.css\";\nimport Greeting from \"../Greeting/Greeting\";\nimport Header from \"../Header/Header\";\nimport Input from \"../Input/Input\";\nimport Form from \"../Form/Form\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport { useValidation } from \"../../utils/validation\";\n\nfunction Profile({ onSignOut, onUpdate }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { values, errors, isValid, handleChange, setValues } = useValidation();\n\n  const [visibleSubmitButton, setVisibleSubmitButton] = React.useState(false);\n  const [isDisabledInput, setDisabledInput] = React.useState(true);\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdate({\n            name: values.name,\n            email: values.email,\n        });\n\n        setVisibleSubmitButton(false);\n        setDisabledInput(true);\n    }\n\n    function handleClickEditButton() {\n        setDisabledInput(false);\n        setVisibleSubmitButton(true);\n    }\n\n    React.useEffect(() => {\n        setValues(currentUser);\n    }, [currentUser, setValues]);\n\n    return (\n        <>\n            <Header />\n            <section className=\"profile\">\n                <Greeting text={`Привет, ${currentUser.name}!`} loggedIn={true} name=\"profile\" />\n                <Form name=\"profile__form\" noValidate onSubmit={handleSubmit}>\n                    <Input\n                        editProfile\n                        id=\"name\"\n                        label=\"Имя\"\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"Имя\"\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        onChange={handleChange}\n                        value={values.name || currentUser.name}\n                        error={errors.name}\n                        required\n                        autoComplete=\"off\"\n                        disabled={isDisabledInput}\n                    />\n                    <Input \n                    editProfile \n                    id=\"email\" \n                    label=\"E-mail\" \n                    name=\"email\" \n                    type=\"email\" \n                    placeholder=\"Почта\" \n                    onChange={handleChange} \n                    value={values.email || currentUser.email} \n                    error={errors.email} \n                    required \n                    pattern=\"[^@\\s]+@[^@\\s]+\\.[^@\\s]+\"\n                    autoComplete=\"off\"\n                    disabled={isDisabledInput} />\n\n                    <div className=\"profile__container\">\n                        {!visibleSubmitButton && (\n                            <>\n                                <button type=\"button\" className=\"profile__button\" onClick={handleClickEditButton}>\n                                    Редактировать\n                                </button>\n                                <button type=\"button\" className=\"profile__button profile__button_exit\" onClick={onSignOut}>\n                                    Выйти из аккаунта\n                                </button>\n                            </>\n                        )}\n\n                        {visibleSubmitButton && (\n                            <button type=\"submit\" className={`profile__button-submit \n                            ${!isValid &&  \"profile__button-submit_disabled\"}\n                            ${\n                                values.email === currentUser.email &&\n                                values.name === currentUser.name &&\n                                \"profile__button-submit_disabled\"\n                            }`}\n                                disabled={!isValid}>\n                                Сохранить\n                            </button>\n                        )}\n                    </div>\n                </Form>\n            </section>\n        </>\n    );\n}\n\nexport default Profile;\n","import { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      <>{props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />}</>\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://api.eshhhii-diploma.nomoredomains.rocks\";\n\n\nconst checkResponse = (res) => {\n  if (res.ok) {\n      return res.json();\n  }\n  return Promise.reject(`Ошибка! ${res.status}`);\n};\n\nexport const register = (name, email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ name, email, password }),\n  })\n      .then(checkResponse);\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n  })\n      .then(checkResponse);\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n      },\n  })\n      .then(checkResponse);\n};","export const MOVIES_URL = 'https://api.nomoreparties.co/beatfilm-movies';\n\nconst checkResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n};\n\nexport const getMovies = () => {\n    return fetch(MOVIES_URL, {\n        method: 'GET',\n    })\n        .then(checkResponse);\n};\n","export default class Api {\n  constructor(config) {\n      this.url = config.url;\n      this.headers = config.headers;\n  }\n\n  getUserInfo(token) {\n      return fetch(`${this.url}/users/me`, {\n          method: 'GET',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`,\n          },\n      })\n          .then((res) => this._checkResponse(res));\n  }\n\n  updateProfile({ name, email }) {\n      const token = localStorage.getItem('token');\n      return fetch(`${this.url}/users/me`, {\n          method: 'PATCH',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`,\n          },\n          body: JSON.stringify({ name, email }),\n      })\n          .then((res) => this._checkResponse(res));\n  }\n\n  addNewCard(movie) {\n      const token = localStorage.getItem('token');\n      return fetch(`${this.url}/movies`, {\n          method: 'POST',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`,\n          },\n          body: JSON.stringify({\n              country: movie.country,\n              director: movie.director,\n              duration: movie.duration,\n              year: movie.year,\n              description: movie.description,\n              image: `https://api.nomoreparties.co${movie.image.url}`,\n              thumbnail: `https://api.nomoreparties.co${movie.image.url}`,\n              trailer: movie.trailerLink,\n              movieId: movie.id,\n              nameRU: movie.nameRU,\n              nameEN: movie.nameEN,\n          }),\n      })\n          .then((res) => this._checkResponse(res));\n  }\n\n  deleteMovie(movieId) {\n      const token = localStorage.getItem('token');\n      return fetch(`${this.url}/movies/${movieId}`, {\n          method: 'DELETE',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`,\n          },\n      })\n          .then((res) => {\n              return this._checkResponse(res);\n          });\n  }\n\n  getSavedMovies(token) {\n      return fetch(`${this.url}/movies`, {\n          method: 'GET',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${token}`,\n          },\n      })\n          .then((res) => this._checkResponse(res));\n  }\n\n  _checkResponse(res) {\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка! ${res.status}`));\n  }\n}\n\nexport const mainApi = new Api({\nurl: 'https://api.eshhhii-diploma.nomoredomains.rocks',\n  headers: {\n      'Accept': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      'Content-Type': 'application/json',\n  },\n});","import './InfoTooltip.css'\n\nconst InfoTooltip = ({ onClose, isOpen, image, message }) => {\n  return (\n    <section className={`infotool ${isOpen && \"infotool_opened\"}`}>\n      <div className=\"infotool__container\">\n        <img className=\"infotool__result-icon\" src={image} alt=\"\" />\n        <h2 className=\"infotool__message\">{message}</h2>\n        <button\n          className=\"infotool__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </section>\n  );\n};\n\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Switch, Route, useHistory, useLocation, Redirect} from \"react-router-dom\";\n\nimport \"./App.css\";\nimport NotFound from \"../NotFound/NotFound\";\nimport Main from \"../Main/Main\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport Profile from \"../Profile/Profile\";\n\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nimport * as auth from \"../../utils/auth\";\nimport * as moviesApi from \"../../utils/MoviesApi\";\nimport { mainApi } from \"../../utils/MainApi\";\n\nimport * as utils from \"../../utils/utils\";\nimport * as messages from \"../../utils/constants\";\n\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\nimport authSuccess from \"../../images/success.png\";\nimport authError from \"../../images/fail.png\";\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [loggedIn, setIsLoggedIn] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [tooltipImage, setTooltipImage] = React.useState(\"\");\n  const [message, setMessage] = React.useState(\"\");\n\n  const [movies, setMovies] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [movieSearchError, setMovieSearchError] = React.useState(\"\");\n\n  const history = useHistory();\n\n  const location = useLocation();\n  const path = location.pathname;\n\n  React.useEffect(() => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n          auth.checkToken(token)\n              .then((res) => {\n                  if (res) {\n                      setIsLoggedIn(true);\n                      history.push(path);\n                  }\n              })\n              .catch((err) => {\n                  console.log(utils.getErrors(err));\n              });\n      } else {\n          localStorage.removeItem(\"token\");\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [history]);\n\n  function onRegister(name, email, password) {\n      auth.register(name, email, password)\n          .then((res) => {\n              setIsInfoTooltipOpen(true);\n              setTooltipImage(authSuccess);\n              onLogin(email, password);\n              setMessage(messages.REGISTER_SUCCESS);\n              history.push(\"/movies\");\n          })\n          .catch((err) => {\n              setIsInfoTooltipOpen(true);\n              setTooltipImage(authError);\n              setMessage(utils.getErrors(err));\n\n              console.log(err)\n          })\n  }\n\n  function onLogin(email, password) {\n      auth.authorize(email, password)\n          .then((res) => {\n              if (res.token) {\n                  localStorage.setItem(\"token\", res.token);\n                  setIsLoggedIn(true);\n                  history.push(\"/movies\");\n              }\n          })\n          .catch((err) => {\n              setIsInfoTooltipOpen(true);\n              setTooltipImage(authError);\n              setMessage(utils.getErrors(err));\n\n              console.log(err);\n          });\n  }\n\n  function onSignOut() {\n      setIsLoggedIn(false);\n      localStorage.clear();\n      setCurrentUser({});\n      setSavedMovies([]);\n      history.push(\"/\");\n  }\n\n  function closeAllPopups() {\n      setIsInfoTooltipOpen(false);\n  }\n\n  React.useEffect(() => {\n      if (loggedIn) {\n\n          const token = localStorage.getItem(\"token\");\n          Promise.all([mainApi.getUserInfo(token), mainApi.getSavedMovies(token)])\n              .then(([userData, movies]) => {\n\n                  setCurrentUser(userData);\n                  setSavedMovies(movies);\n\n                  localStorage.setItem(\"saved-movies\", JSON.stringify(movies || []));\n                  localStorage.setItem(\"current-user\", JSON.stringify(userData));\n\n              })\n              .catch((err) => console.log(utils.getErrors(err)));\n      }\n  }, [loggedIn]);\n\n  function getAllMovies() {\n\n      setMovieSearchError(\"\");\n      setIsLoading(true);\n\n      moviesApi.getMovies()\n          .then((movies) => {\n\n              localStorage.setItem(\"all-movies\", JSON.stringify(movies));\n\n              setMovies(utils.checkSavedMovies(movies, savedMovies));\n              setMovieSearchError(messages.NOT_FOUND);\n\n          })\n          .catch((err) => {\n              setMovieSearchError(messages.SERVER_ERROR);\n              console.log(utils.getErrors(err));\n          })\n          .finally(() => {\n              setIsLoading(false);\n          });\n\n  }\n\n  function handleUpdateUserInfo({ name, email }) {\n\n      mainApi.updateProfile({ name, email })\n          .then((data) => {\n              if (data) {\n                  setCurrentUser(data);\n                  setIsInfoTooltipOpen(true);\n                  setTooltipImage(authSuccess);\n                  setMessage(messages.PROFILE_UPDATE_SUCCESS);\n              }\n          })\n          .catch((err) => {\n              setIsInfoTooltipOpen(true);\n              setTooltipImage(authError);\n              setMessage(utils.getErrors(err));\n              console.log(utils.getErrors(err));\n          });\n  }\n\n  function handleSaveMovie(movie) {\n      mainApi.addNewCard(movie)\n          .then((savedMovie) => {\n              setSavedMovies([savedMovie, ...savedMovies]);\n          })\n          .catch((err) => {\n            setIsInfoTooltipOpen(true);\n            setTooltipImage(authError);\n            setMessage(utils.getErrors(err));\n            console.log(utils.getErrors(err));\n          });\n  }\n\n  function handleDeleteMovie(movie) {\n\n      const movieId = movie.id || movie.movieId;\n      const userMovie = savedMovies\n          .find((savedMovie) =>\n              savedMovie.movieId === String(movieId));\n\n      mainApi.deleteMovie(userMovie._id)\n          .then(() => {\n              const newSavedMovies = savedMovies\n                  .filter(\n                      (savedMovie) => savedMovie.movieId !== String(movieId));\n\n              setSavedMovies(newSavedMovies);\n          })\n          .catch((err) => {\n            setIsInfoTooltipOpen(true);\n            setTooltipImage(authError);\n            setMessage(utils.getErrors(err));\n            console.log(utils.getErrors(err));\n          });\n  }\n\n  function handleCardClickButton(movie) {\n      if (!movie.isSaved && !movie._id) {\n          handleSaveMovie(movie);\n      } else {\n          handleDeleteMovie(movie);\n      }\n  }\n\n  React.useEffect(() => {\n      const allMovies = JSON.parse(localStorage.getItem(\"all-movies\"));\n\n      if (allMovies) {\n          setMovies(utils.checkSavedMovies(allMovies, savedMovies));\n          setMovieSearchError(messages.NOT_FOUND);\n      } else {\n          setMovieSearchError(messages.START_SEARCHING);\n          setMovies([]);\n      }\n  }, [savedMovies]);\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n          <div className=\"app\">\n              <Switch>\n                  <Route exact path=\"/\">\n                      <Main />\n                  </Route>\n                  <ProtectedRoute\n                      path=\"/movies\"\n                      component={Movies}\n                      isLoading={isLoading}\n                      cards={movies}\n                      loggedIn={loggedIn}\n                      onGetMovies={getAllMovies}\n                      onCardClickButton={handleCardClickButton}\n                      movieSearchError={movieSearchError}\n                  ></ProtectedRoute>\n                  <ProtectedRoute\n                      path=\"/saved-movies\"\n                      component={SavedMovies}\n                      loggedIn={loggedIn}\n                      savedMovies={savedMovies}\n                      onCardClickButton={handleCardClickButton}\n                  ></ProtectedRoute>\n                  <ProtectedRoute\n                      path=\"/profile\"\n                      component={Profile}\n                      onSignOut={onSignOut}\n                      loggedIn={loggedIn}\n                      onUpdate={handleUpdateUserInfo}\n                  ></ProtectedRoute>\n                   <Route path=\"/signup\">\n                  {loggedIn ? (\n                  <Redirect to=\"/movies\" />\n                ) : (\n                      <Register onRegister={onRegister} />\n                )}\n                  </Route>\n                  <Route path=\"/signin\">\n                  {loggedIn ? (\n                  <Redirect to=\"/movies\" />\n                ) : (\n                      <Login onLogin={onLogin} />\n                )}\n                  </Route>\n                  <Route path=\"*\">\n                      <NotFound />\n                  </Route>\n              </Switch>\n              <InfoTooltip\n                  isOpen={isInfoTooltipOpen}\n                  onClose={closeAllPopups}\n                  image={tooltipImage}\n                  message={message}\n              />\n          </div>\n      </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}